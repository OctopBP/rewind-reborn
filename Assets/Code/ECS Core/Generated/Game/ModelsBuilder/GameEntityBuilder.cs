//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by Octop.ComponentModel.CodeGenerators.EntityBuilderGenerator.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System.Collections.Generic;
using System.Linq;

namespace Octop.ComponentModel {
	public class GameEntityBuilder {
	    readonly GameEntity entity;
	    readonly List<IGameComponentModel> models;
	    readonly List<IGameComponentListener> listeners;

	    public GameEntityBuilder(GameEntity entity, List<IGameComponentModel> models, List<IGameComponentListener> listeners) {
	        this.entity = entity;
	        this.models = models;
	        this.listeners = listeners;

	        models.Aggregate(entity, (e, model) => model.Initialize(e));
	    }

	    public void registerListeners() => listeners.ForEach(l => l.Register(entity));
        public void unregisterListeners() => listeners.ForEach(l => l.Unregister(entity));
    }
}